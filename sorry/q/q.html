<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<title>Sorry! questions</title>
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
<link rel="icon" href="../../favicon.ico" type="image/x-icon">
</head>

<body>

<div align="center">
<table border=0 cellspacing=5 cellpadding=15 width="100%" align="left">

<tr><td>
<table border=0 cellpadding=5 cellspacing=15 align="left">
<tr><td><a href="../../index.html"><img src="../../design/logo_mini.png" alt="Logo" width="32" height="32" border="0"></a></td><td><em><a href="../../index.html">Sorry!</a></em>&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&nbsp;<em>Q.</em></td></tr>
</table>
</td></tr>

<tr><td>
<div align="center"><h1>Sorry! Работа с программой и вопросы для обсуждения</h1></div>
</td></tr>

<tr><td>
<table cellpadding=5 cellspacing=15 width="100%" border=0 align="left">
<tr><td>

<pre>
<H2>1. Открытие файла</H2>

Файл можно открыть тремя путями:

-  передав имя SOR-файла как параметр командной строки

   &gt; sorry.exe FileName.sor

-  из системного меню, выбрав команду Open

<CENTER><IMG SRC="fileopen1.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

-  перетащив мышкой SOR-файл на окошко программы
   (удобно, если нужно подряд просмотреть несколько файлов)

<CENTER><IMG SRC="fileopen2.png" WIDTH=793 HEIGHT=749 BORDER=0></CENTER>


<H3>Note:</H3>

   Можно указать sorry.exe программой по умолчанию для файлов типа SOR,
   тогда они будут открываться по двойному клику мышкой на файле.

<H3>Note:</H3>

   Можно одновременно запустить несколько копий программы и открыв в них
   тот же самый файл, одновременно проматривать информацию на разных
   вкладках, например, KeyEvents Collection &amp; DataPoints  Collection.


<H2>2. Сохранение файла</H2>

Сохранение возможно в любой момент, независимо от открытой вкладки.
Сохраняется вся, относящаяся к файлу информация, независимо от открытой
вкладки. Иными словами, сохранение всегда делает &quot;снимок&quot; текущего
состояния редактирования для всех вкладок редактора. Если вы
переключаетесь с одной вкладки на другую, все изменения сохраняются в
памяти и будут учтены при сохранении.

Можно просматривать и редактировать вкладки в любом порядке. Ничего не
будет записано, пока не нажата кнопка Write и все будет сохранено при ее
нажатии.

Если файл не был сохранен, то все сделанные изменения будут потеряны.

Предпочтительно сохранять отредактированный файл с новым именем и описать
сделанные изменения в комментарии на вкладке Owner.

<CENTER><IMG SRC="owner.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>


<H2>3. Редактирование</H2>

Редактирование одиночных полей осуществляется обычным образом. В тех
случаях, где возможен только ограниченный набор вариантов, использован
Combobox control,

<CENTER><IMG SRC="combo1.png" WIDTH=624 HEIGHT=702 BORDER=0></CENTER>

<CENTER><IMG SRC="combo2.png" WIDTH=624 HEIGHT=702 BORDER=0></CENTER>

<CENTER><IMG SRC="combo3.png" WIDTH=624 HEIGHT=702 BORDER=0></CENTER>

в остальных случаях - Edit control.

<CENTER><IMG SRC="fixed1.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

Коллекции представлены как списки значений (List control) и для
редактирования элемента коллекции его необходимо выбрать (кликнуть по нему
мышкой).

<CENTER><IMG SRC="fixed2.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

Двойной клик, обычно, сразу открывает выбранный элемент коллекции для
редактирования, правый клик вызывает меню с расширенным выбором вариантов.

<CENTER><IMG SRC="fixed2_rightclick.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

Коллекции могут быть вложенными (как матрешки).

<CENTER><IMG SRC="datapoints.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

В этом случае, двойной клик по элементу внешней коллекции вызывает диалог,
на котором представлена внутренняя коллекция.

<CENTER><IMG SRC="datapoints_doubleclick.png" WIDTH=402 HEIGHT=730 BORDER=0></CENTER>

Все действия с коллекциями однотипны и, обычно, включают
удаление/добавление элемента коллекции, его модификацию и удаление всех
элементов коллекции.

<CENTER><IMG SRC="points_rightclick.png" WIDTH=402 HEIGHT=730 BORDER=0></CENTER>


<H2>4. Специальные случаи</H2>


<H3>4.1  FileInfo</H3>

По умолчанию, редактор всегда открывает вкладку FileInfo, на которой
представлена (нередактируемая) информация о файле.

<CENTER><IMG SRC="map_rightclick.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

Исключение составляют необязательные блоки, которые можно удалять

<CENTER><IMG SRC="map_remove.png" WIDTH=624 HEIGHT=702 BORDER=0></CENTER>

и кнопка фиксации контрольной суммы (активна для поврежденных файлов).

Важно понимать, что фиксация контрольной суммы не исправляет поврежденный
файл, а только делает его более пригодным для чтения особо &quot;капризными&quot;
программами.


<H3>4.2 General</H3>

Вкладка General содержит практически текстовую информацию, безразличную
для работы редактора Sorry!. Иными словами, с точки зрения редактора,
здесь может быть все, что угодно.

<CENTER><IMG SRC="general.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>


<H3>4.3 Fixed I</H3>

Вкладка Fixed I содержит существенные для анализа трассы данные, их
изменение, скорее всего, <B><I>приведет к необратимой порче файла</I></B>. Sorry!
использует данные с этой вкладки для собственных вычислений.

<CENTER><IMG SRC="fixed1.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>


<H3>4.4 Fixed II</H3>

В версии SOR 1.xx доступна только коллекция импульсов, редактировать
которую <B><I>настоятельно не рекомендуется</I></B>. Данные этой коллекции критически
важны как для анализа трассы, так и для работы редактора.

<CENTER><IMG SRC="fixed2.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>


<H3>4.5 Suppplier</H3>

Вкладка Suppplier содержит только текстовую информацию, безразличную для
работы редактора Sorry!. Иными словами, с точки зрения редактора, здесь
может быть все, что угодно.

<CENTER><IMG SRC="suppplier.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>


<H3>4.6 KeyEvents</H3>

Таблица ивентов является необязательной и может быть создана и удалена или
модифицирована как пользователем, так и программой автоанализа.

<CENTER><IMG SRC="keyevents.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

<CENTER><IMG SRC="keyevents_logicalmodify.png" WIDTH=606 HEIGHT=318 BORDER=0></CENTER>

<CENTER><IMG SRC="keyevents_rightclick.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>

Метафорически, ивент является <B><I>дуальной </I></B>сущностью. Физически, ивент
существует, как превышающее заданный порог, отклонение значения точки
трассы от виртуальной линии затухания. Логически, ивент существует как то,
что думает о нем пользователь или программа автоанализа, и что записано в
таблицу ивентов. Модификация таблицы ивентов (логическое редактирование)
не изменяет физического статуса ивента. Единственная, существующая между
ними связь - это отметка дистанции, к которой привязан данный ивент. Иными
словами, логический ивент - это проекция набора параметров трассы в данной
точке дистанции в их описание в таблице ивентов.

Удаление, добавление и редактирование логического описания элемента не
меняет физического состояния связанного с ним участка трассы.

<CENTER><IMG SRC="noevents.png" WIDTH=618 HEIGHT=480 BORDER=0></CENTER>

Удаление, добавление и редактирование физического ивента не влияет
непосредственно на состояние таблицы описателей, но она будет перезаписана
при последующем (ручном или автоматическом) реанализе.

С точки зрения редактора, существенно различие между рефлективными
(ступенька вверх) и нерефлективными (ступенька вниз) ивентами.

Рефлективный ивент, скорее всего, может быть удален сплайсингом
(сращиванием) по точкам ближайшей окрестности и/или ручным
редактированием.

Редактор Sorry! предлагает для этого ручное редактирование точек трассы и
автосплайсинг по 2/4/8/16/32 точкам окрестности.

<CENTER><IMG SRC="point_modify.png" WIDTH=380 HEIGHT=380 BORDER=0></CENTER>

Чем более &quot;гладко&quot; выглядит трасса в окрестности ивента, тем большее число
точек сплайсинга может быть выбрано, для получения более точного среднего
коэффициента наклона трассы.

Для &quot;негладкой&quot; трассы единственным возможным вариантом может оказаться
ручное редактирование.

Для нерефлективных ивентов все сложнее.

<CENTER><IMG SRC="nonreflectiveevent.png" WIDTH=618 HEIGHT=480 BORDER=0></CENTER>

Очевидно, сплайсинг для таких ивентов НЕ работает.

<CENTER><IMG SRC="m1.png" WIDTH=618 HEIGHT=480 BORDER=0></CENTER>

Мне видятся два варианта решения (и/или их комбинация).


<H3>A. Shifting - физический подъем линии трассы на величину ивента</H3>

<CENTER><IMG SRC="m2.png" WIDTH=618 HEIGHT=480 BORDER=0></CENTER>

<STRONG>Преимущества:</STRONG>

ивент может быть полностью устранен

<STRONG>Недостатки:</STRONG>

влечет полный пересчет всех оставшихся точек трассы, затухание на дальнем
конце изменяется на величину сдвига.


<H3>B. Rotation - физический поворот виртуальной линии трассы на подходящий
угол, с тем, чтобы погасить значение ивента в данной точке.</H3>

<CENTER><IMG SRC="m3.png" WIDTH=618 HEIGHT=480 BORDER=0></CENTER>

<STRONG>Преимущества:</STRONG>

ивент может быть полностью устранен

<STRONG>Недостатки:</STRONG>

влечет полный пересчет всех оставшихся точек трассы, вследствие
проективного удлинения трассы, могут возникнуть множественные новые
ивенты, для повернутого участка трассы изменится удельное (на километр)
значения затухания, и может принять необычно большое значение.


<H3>Резюме:</H3>

Не существует простого и &quot;дешевого&quot; решения этой проблемы. Даже
автоматический сдвиг/поворот может потребовать многократного пересчета
всей трассы, по мере распространения и саморазмножения ивентов на
дистальном конце при их уничтожении на проксимальном конце.


<H2>5. Бонус</H2>

Поскольку SOR-формат допускает хранение нестандартных блоков
проприетарного формата с информацией от вендора, Sorry! использует эту
возможность для добавления собственного блока, в котором сохраняет
некоторую информацию, в первую очередь, созданный пользователем
комментарий (произвольный текст). Этот комментарий доступен на вкладке
Owner и позволяет сохранять вместе с SOR-файлом его описание.

<CENTER><IMG SRC="owner.png" WIDTH=630 HEIGHT=732 BORDER=0></CENTER>
</pre>

</td></tr>

</table>
</td></tr>

<tr><td>
<hr>
<em>&copy; Gazlan 2012 * gazlan@yandex.ru</em>
<hr>
</td></tr>

</body>
</html>
