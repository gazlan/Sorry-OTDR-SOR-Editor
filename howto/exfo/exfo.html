<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<title>EXFO</title>
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
<link rel="icon" href="../../favicon.ico" type="image/x-icon">
</head>

<body>

<div align="center">
<table border=0 cellspacing=5 cellpadding=15 width="100%" align="left">

<tr><td>
<table border=0 cellpadding=5 cellspacing=15 align="left">
<tr><td><a href="../../index.html"><img src="../../design/logo_mini.png" alt="Logo" width="32" height="32" border="0"></a></td><td><em><a href="../../index.html">Sorry!</a></em>&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&nbsp;<em><a href="../howto.html">HowTo</a></em>&nbsp;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&nbsp;<em>EXFO</em></td></tr>
</table>
</td></tr>

<tr><td>
<div align="center"><h1>Редактирование SOR-файлов от рефлектометров EXFO</h1></div>
</td></tr>

<tr><td>
<table cellpadding=5 cellspacing=15 width="100%" border=0 align="left">
<tr><td>

<tr><td>
<p>При редактировании EXFO-файлов следует учитывать две особенности:</p>
<p><ol>
<li>Контрольная сумма CkSum оригинального файла рассчитывается по проприетарному (неизвестному) алгоритму и не может быть восстановлена. В поле CkSum будет записана контрольная сумма, вычисленная по стандартному алгоритму (Telcordia SR-4731 standard).</li>
<li>Оригинальный EXFO-файл содержит две идентичные копии трассы, сохраняемых в стандартном блоке "DataPts" и в проприетарном блоке "ExfoNewProprietaryBlock 01" (формат неизвестен). При редактировании в редакторе Sorry! изменяется только стандартный блок "DataPts", а проприетарный блок "ExfoNewProprietaryBlock 01" остается неизменным. Это приводит к тому, что при просмотре отредактированного SOR-файла любым OTDR-вьювером, кроме EXFO будет видна отредактированная трасса, а при просмотре EXFO-вьювером будет видна оригинальная (не подвергшаяся редактированию) трасса.</li>
</ol></p>
<p>Таким образом, внутри одного SOR-файла могут находиться две совершенно разные трассы и две совершенно разные таблицы ивентов - стандартная и собственная (от производителя).</p>
<p>Это не является проблемой, пока обе трассы - стандартная и собственная - совпадают.</p>
<p>Этого рассогласования можно избежать, принудительно удалив проприетарный блок "ExfoNewProprietaryBlock 01" (вкладка "FileInfo", RightClick на строке Exfo..., Remove).</p>
<p>Если вы смотрите файл "чужой" программой - она видит только стандартные блоки, если "родной" (EXFO) - то, что задано ее производителем.</p>
<p>EXFO в этом случае НЕ ВИДИТ стандартных блоков, а видит только собственные. Если их удалить, то только тогда он будет отображать стандартные.</p>
<p>При редактировании "чужого" формата у редактора рефлектограмм есть две возможности:</p>
<p><ul>
<li>Удалить полностью проприетарные блоки от "чужого" редактора.</li>
<li>либо</li>
<li>Удалить полностью проприетарные блоки от "чужого" редактора и записать вместо них собственные.</li>
</ul></p>
<p>В зависимости от вендора, встречается и тот и другой вариант. Некоторые OTDR-вьюверы при сохранении удаляют все нестандартные блоки, другие записывают вместо них собственные.</p>
<p>Sorry! идет своим путем и сохраняет все проприетарные блоки, найденные в исходном SOR-файле, перезаписывая их на новое место и редактируя заголовок файла, как необходимо.</p><br><br>
</td></tr>

</table>
</td></tr>

<tr><td>
<hr>
<em>&copy; Gazlan, 2018 * gazlan@yandex.ru</em>
<hr>
</td></tr>

</body>
</html>
